/*!
 * angularjs-jf-contextual-spinner
 * 
 * Version: 0.0.1 - 2015-01-01T08:23:25.590Z
 * License: MIT
 */
angular.module("jf_NavBarLoader",[]).provider("jf_NavLoadingBarCfg",function(){this.loadingBarTemplate='<div id="jf-nav-loading-bar"></div>';var e={delay:void 0,baseOpacity:void 0,baseColor:void 0,loadingBarTemplate:this.loadingBarTemplate};this.setConfigs=function(r){for(var n in r)e.hasOwnProperty(n)&&(e[n]=r[n])};var r=function(){return e};this.$get=function(){return{getConfig:r}}}).factory("jf_httpInterceptor",function(e,r){var n=0;return{request:function(t){return n++,r.$broadcast("jf_NavBarLoader:show"),t||e.when(t)},response:function(t){return 0===--n&&r.$broadcast("jf_NavBarLoader:hide"),t||e.when(t)},responseError:function(t){return--n||r.$broadcast("jf_NavBarLoader:hide"),e.reject(t)}}}).config(function(e){e.interceptors.push("jf_httpInterceptor")}).directive("jfNavBarLoader",function(e,r){return{link:function(n,t){var a=$(t),o=e.getConfig(),i=angular.element(e.getConfig().loadingBarTemplate),d="undefined"!=typeof o.delay?o.delay:750,f="undefined"!=typeof o.baseOpacity?o.baseOpacity:.3,c="undefined"!=typeof o.baseColor?o.baseColor:"white";return i.css({height:a.height(),width:a.width(),opacity:f,backgroundColor:c}),n.$on("jf_NavBarLoader:show",function(){i.insertBefore(a.children().first()),i.css({width:"0%"}),i.show();var e=function(n){return n>=100?!1:(i.css({width:n+"%"}),void r(function(){e(n+5)},1))};return e(Math.floor(15*Math.random())+1)}),n.$on("jf_NavBarLoader:hide",function(){i.css({width:"100%"}),r(function(){i.hide()},d)})}}});